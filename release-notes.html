<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>release-notes</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="A modern and easy-to-use parser library for F#"/>
    <meta name="author" content="Theodore Tsirpanis"/>

    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" async></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
    <link href="https://stackpath.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet" integrity="sha384-4FeI0trTH/PCsLWrGCD1mScoFu9Jf2NdknFdFoJhXZFwsvzZ3Bo5sAh7+zL8Xgnd" crossorigin="anonymous">

    <link type="text/css" rel="stylesheet" href="/Farkle/content/style.css" />
    <script type="text/javascript" src="/Farkle/content/tips.js" async></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="https://github.com/teo-tsirpanis/Farkle">github page</a></li>
        </ul>
        <h3 class="muted"><a href="/Farkle/index.html">Farkle</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          <h4><a name="6-0-0-alpha-2-23-08-2020" class="anchor" href="#6-0-0-alpha-2-23-08-2020">6.0.0-alpha.2 - 23-08-2020</a></h4>
<ul>
<li>Farkle supports creating regexes from strings. See more in <a href="https://teo-tsirpanis.github.io/Farkle/string-regexes.html.">https://teo-tsirpanis.github.io/Farkle/string-regexes.html.</a></li>
<li>The parser, the builder and the EGT(neo) reader became faster once again.</li>
<li>The precompiler does not crash when used from .NET Standard libraries.</li>
<li><strong>Breaking change:</strong> The <code>CharStream</code> API became internal. A new one will be published in the next release.</li>
</ul>
<h4><a name="6-0-0-alpha-1-13-04-2020" class="anchor" href="#6-0-0-alpha-1-13-04-2020">6.0.0-alpha.1 - 13-04-2020</a></h4>
<ul>
<li><strong>Breaking change:</strong> Removed the legacy API for creating runtime Farkles from EGT files (the API with the transformers and fusers). EGT files are still supported (for now), but users are strongly urged to rewrite their grammars using <code>Farkle.Builder</code>, or implement the <code>PostProcessor</code> interface themselves (not recommended).</li>
<li><strong>Breaking change:</strong> The <code>PostProcessor</code> type was moved to the root <code>Farkle</code> namespace. Some reusable post-processors were moved to the new <code>Farkle.PostProcessors</code> module.</li>
<li>Farkle can now build grammars at compile-time. See more in <a href="https://teo-tsirpanis.github.io/Farkle/the-precompiler.html.">https://teo-tsirpanis.github.io/Farkle/the-precompiler.html.</a></li>
<li>Added a function to rename designtime Farkles; it might be useful for better diagnostic messages.</li>
</ul>
<h4><a name="5-4-1-23-03-2020" class="anchor" href="#5-4-1-23-03-2020">5.4.1 - 23-03-2020</a></h4>
<ul>
<li>Refactor some designtime Farkle functions (like <code>many1</code>) to use less nonterminals.</li>
<li>Add functions and regexes to create terminals for unsigned real numbers.</li>
</ul>
<h4><a name="5-4-0-20-03-2020" class="anchor" href="#5-4-0-20-03-2020">5.4.0 - 20-03-2020</a></h4>
<ul>
<li>You can now add lexical groups in a grammar. They resemble <a href="http://www.goldparser.org/doc/grammars/define-groups.htm">GOLD Parser's feature</a>, but always advance by character and do not not support nesting.</li>
<li>Add a couple of methods in runtime Farkles to easily check whether building it had succeeded.</li>
<li>Lexical errors are reported at the point they occur; not at the point of the first character read by the tokenizer.</li>
<li>Made the untyped builder API easier to access. See the deprecation notice for the new functions to use.</li>
<li><strong>Minor breaking change:</strong> The <code>CharStream.readChar</code> value gets the character index by value, not by reference. Callers have to increment it accordingly to get further characters.</li>
<li><strong>Minor breaking change:</strong> The type <code>Farkle.Grammar.OptimizedOperations</code> was moved to the <code>Farkle.Parser</code> namespace; it was there for historical reasons.</li>
<li>As you might have seen, breaking changes on public members that do not affect the average Farkle user will not warrant a major version increase.</li>
</ul>
<h4><a name="5-3-0-23-02-2020" class="anchor" href="#5-3-0-23-02-2020">5.3.0 - 23-02-2020</a></h4>
<ul>
<li>Farkle's speed <strong>more than doubled</strong> by disabling tailcall optimizations.</li>
<li><strong>Minor breaking change:</strong> The API of the <code>CharStream</code> type slightly changed. Most notably, the type <code>CharStreamIndex</code> was removed in favor of <code>uint64</code>, and the order of the last two arguments in the function <code>CharStream.read</code> has changed.</li>
</ul>
<h4><a name="5-2-0-09-02-2020" class="anchor" href="#5-2-0-09-02-2020">5.2.0 - 09-02-2020</a></h4>
<ul>
<li>The types <code>DesigntimeFarkle&lt;TResult&gt;</code> and <code>PostProcessor&lt;TResult&gt;</code> are covariant. The change was made possible by <a href="https://github.com/teo-tsirpanis/Covarsky">Covarsky</a>, a tool written for this purpose.</li>
<li>Added a function called <code>Regex.allButChars</code> (<code>Regex.NotOneOf</code> for C#) that creates regexes accepting all characters except certain ones.</li>
<li>User code exceptions during post-processing are not captured anymore.</li>
<li>Farkle.Tools.MSBuild works with all .NET Core SDK versions after 2.0.</li>
</ul>
<h4><a name="5-1-0-31-01-2020" class="anchor" href="#5-1-0-31-01-2020">5.1.0 - 31-01-2020</a></h4>
<ul>
<li>It happened. Farkle can create grammars without the need of GOLD Parser. <strong>Farkle is now a parsing library on its own.</strong></li>
<li>Move the <code>CharStream</code> type in the <code>Farkle.IO</code> namespace.</li>
<li>Add methods to parse text from .NET <code>TextReader</code>s. They should be preferred over parsing .NET <code>Stream</code>s because the latter are supposed to contain binary data, not text.</li>
<li>The <code>Farkle.CSharp</code> namespace is no longer required. C# users just have to use <code>Farkle</code> to get their extension methods, unless they are writing their own post-processors for GOLD Parser grammars, where they have to use <code>Farkle.PostProcessor.CSharp</code>.</li>
<li><strong>Breaking change:</strong> Farkle.Tools.MSBuild was upgraded to .NET Core 3.1. Nothing significant changed though, which means those who still use .NET Core 2.1 can stay in a previous version.</li>
<li><strong>Breaking change:</strong> Reading grammars from EGT files now raises an exception.</li>
<li><strong>Breaking change:</strong> Some utility functions that had nothing to do with parsing were either removed or made internal.</li>
<li><strong>Breaking change:</strong> Internal errors of the parser (in the unfortunate case they happen) throw an exception. In the next release, exceptions in a transformer or fuser will not be caught either.</li>
</ul>
<h4><a name="5-0-1-21-08-2019" class="anchor" href="#5-0-1-21-08-2019">5.0.1 - 21-08-2019</a></h4>
<ul>
<li>Fix a bug where comments in input text would sometimes crash the parser.</li>
<li>Allow line comments in the last line of the input text.</li>
</ul>
<h4><a name="5-0-0-13-08-2019" class="anchor" href="#5-0-0-13-08-2019">5.0.0 - 13-08-2019</a></h4>
<ul>
<li>Fix a bug where the tokenizer would erroneously report an EOF instead of a lexical error. - <a href="https://github.com/teo-tsirpanis/Farkle/issues/8">#8</a></li>
<li>Add <code>CharStream.TryLoadFirstCharacter</code>. With this method, you can check whether the input of a character stream has ended, and safely access <code>CharStream.FirstCharacter</code>.</li>
<li>Bring back <code>Grammar.StartSymbol</code>, but implement it correctly this time.</li>
<li>Write more tests and documentation.</li>
</ul>
<h4><a name="5-0-0-rc-7-10-08-2019" class="anchor" href="#5-0-0-rc-7-10-08-2019">5.0.0-rc.7 - 10-08-2019</a></h4>
<ul>
<li>Speed-up the tokenizer by using an array that handles ASCII characters.</li>
<li>Remove <code>Grammar.StartSymbol</code>, as it was unreliable, and useless to Farkle.</li>
<li>Remove the <code>OutputDirectorySuffix</code> metadata introduced in 5.0.0-rc.5. Generated source files by Farkle.Tools.MSBuild are <em>always</em> added in the same directory as the project.</li>
</ul>
<h4><a name="5-0-0-rc-6-22-07-2019" class="anchor" href="#5-0-0-rc-6-22-07-2019">5.0.0-rc.6 - 22-07-2019</a></h4>
<ul>
<li>Fix a breaking error in Farkle.Tools.MSBuild.</li>
<li>Reduce allocations in the parser.</li>
</ul>
<h4><a name="5-0-0-rc-5-22-07-2019" class="anchor" href="#5-0-0-rc-5-22-07-2019">5.0.0-rc.5 - 22-07-2019</a></h4>
<ul>
<li>Fixed a bug which sometimes made Farkle.Tools.MSBuild unusable for C# users.</li>
<li>Added a new MSBuild item metadata called <code>OutputDirectorySuffix</code> which is useful for generating templates in a different directory than the EGT file.</li>
<li>Add a new benchmark which compares a Farkle-made JSON parser to <a href="https://xyncro.tech/chiron/">Chiron</a>, which is powered by <a href="https://www.quanttec.com/fparsec/">FParsec</a>. You can see the results of the benchmarks <a href="https://github.com/teo-tsirpanis/Farkle/tree/master/performance">over here</a>.</li>
</ul>
<h4><a name="5-0-0-rc-4-18-07-2019" class="anchor" href="#5-0-0-rc-4-18-07-2019">5.0.0-rc.4 - 18-07-2019</a></h4>
<ul>
<li>Fixed a bug which made Farkle.Tools.MSBuild unusable.</li>
</ul>
<h4><a name="5-0-0-rc-3-17-07-2019" class="anchor" href="#5-0-0-rc-3-17-07-2019">5.0.0-rc.3 - 17-07-2019</a></h4>
<ul>
<li>The CLI tool got a new property <code>--namespace</code> (shortened to <code>-ns</code>) which is simpler to use and replaces <code>--property</code>.</li>
<li>Fixed errors in the generated F# code.</li>
</ul>
<h4><a name="5-0-0-rc-2-17-07-2019" class="anchor" href="#5-0-0-rc-2-17-07-2019">5.0.0-rc.2 - 17-07-2019</a></h4>
<ul>
<li>The CLI tool generates post-processor skeletons by default.</li>
<li>The CLI tool can automatically find the EGT file to process (if there is only one in the current directory), and the language (if there are C# or F# projects in the current directory).</li>
<li>Fixed a bug where generated source files would sometimes have duplicate production names in their enumerated type. - <a href="https://github.com/teo-tsirpanis/Farkle/issues/7">#7</a></li>
</ul>
<h4><a name="5-0-0-rc-1-15-07-2019" class="anchor" href="#5-0-0-rc-1-15-07-2019">5.0.0-rc.1 - 15-07-2019</a></h4>
<ul>
<li>Farkle now has better C# support. Just write <code>using Farkle.CSharp;</code>, and you are good to go!</li>
<li>Farkle now has a CLI tool helper. It can generate a grammar definition file that contains the terminal and production types for your grammar, as well as the EGT file in base-64 encoding. It can also create a skeleton source file to help you write a post-processor. What is more, it supports <em>both</em> C# and F#!</li>
<li>Farkle now has MSBuild integration. You can auto-generate a source file describing your grammar, and not have to carry EGT files around.</li>
<li>As always, performance was improved, especially in the EGT file reader.</li>
<li><strong>Breaking change:</strong> In your post-processor, if you have functions like <code>take2Of production (index1, index2) count func</code>, remove the <code>count</code> parameter.</li>
<li><strong>Breaking change:</strong> The <code>Token</code> type was moved to <code>Farkle.Parser</code> and is not needed by the <code>AST</code> type.</li>
</ul>
<h4><a name="4-0-2-21-08-2019" class="anchor" href="#4-0-2-21-08-2019">4.0.2 - 21-08-2019</a></h4>
<ul>
<li>Fix a bug where comments in input text would sometimes crash the parser.</li>
</ul>
<h4><a name="4-0-1-11-08-2019" class="anchor" href="#4-0-1-11-08-2019">4.0.1 - 11-08-2019</a></h4>
<ul>
<li>Backport the fix of GitHub issue <a href="https://github.com/teo-tsirpanis/Farkle/issues/8">#8</a>.</li>
</ul>
<h4><a name="4-0-0-17-01-2019" class="anchor" href="#4-0-0-17-01-2019">4.0.0 - 17-01-2019</a></h4>
<ul>
<li>Optimized the way Farkle handles the input stream characters by reducing copies &amp; improving performance.</li>
<li>Removed all 3rd-party non-Microsoft dependencies.</li>
</ul>
<h4><a name="3-1-0-alpha003-10-10-2018" class="anchor" href="#3-1-0-alpha003-10-10-2018">3.1.0-alpha003 - 10-10-2018</a></h4>
<ul>
<li>The <code>GOLDParser</code> API was replaced in favor of the <code>RuntimeFarkle</code> type. This means that the parsing and post-processing operations are unified.</li>
<li>The code became cleaner and faster yet again, with a notable optimization in the tokenizer.</li>
<li>This release coincided with the author's birthday. 🎂</li>
</ul>
<h4><a name="3-1-0-alpha002-14-09-2018" class="anchor" href="#3-1-0-alpha002-14-09-2018">3.1.0-alpha002 - 14-09-2018</a></h4>
<ul>
<li>The EGT file reader was replaced with a newer one which is significantly more performant.</li>
<li>The <code>GOLDParser</code> class was removed in favor of the new module with the same name.</li>
</ul>
<h4><a name="3-1-0-alpha001-06-09-2018" class="anchor" href="#3-1-0-alpha001-06-09-2018">3.1.0-alpha001 - 06-09-2018</a></h4>
<ul>
<li>The versioning scheme changed. Even (and zero) minor and patch versions signify stable releases, while odd ones signify unstable releases. For example, this is an unstable release.</li>
<li>The functions for the <code>RuntimeFarkle</code> type are in their own module.</li>
<li>The reader for GOLD Parser EGT files is now based on a BinaryReader, and is faster and more lightweight.</li>
<li>The parser directly generates Abstract Syntax trees, eliminating the need to convert them from reductions, a very hard-to-use type.</li>
<li>The parser does not keep the parsing log messages. Instead, a callback that is provided by the user is called from which the message can be arbitrarily processed.</li>
<li>The code was yet again simplified and reorganized into different namespaces.</li>
<li>The library became much faster after performance profiling.</li>
</ul>
<h4><a name="3-0-0-15-07-2018" class="anchor" href="#3-0-0-15-07-2018">3.0.0 - 15-07-2018</a></h4>
<ul>
<li>Introduced the <code>RuntimeFarkle</code> API. This allows the user to both parse a string and convert its Abstract Syntax Tree into any type easily.</li>
<li>The parser can lazily read an input file.</li>
<li>The project does no more depend on Chessie, using the core library's Result type.</li>
<li>The internal architecture was greatly refactored.</li>
</ul>
<h4><a name="3-0-0-alpha001-06-09-2017" class="anchor" href="#3-0-0-alpha001-06-09-2017">3.0.0-alpha001 - 06.09.2017</a></h4>
<ul>
<li>A new type named ParseResult will make parsing easier for both F# and C# users.</li>
<li>Changed the way the index of grammar objects is stored.</li>
</ul>
<h4><a name="2-0-0-03-09-2017" class="anchor" href="#2-0-0-03-09-2017">2.0.0 - 03.09.2017</a></h4>
<ul>
<li>Overhauled the low-level parser API. It is a simple 5-line type called <code>Parser</code>. Its new design prevents misusing the API (like continuing parsing on a completed parser state), and decouples it from any implementation.</li>
<li>Also, the GOLDParser class is changed too. It is no more a static class, and its design encourages creating a grammar only once.</li>
<li>Polished the API; changed the names of some types (like <code>Production.Nonterminal</code> to <code>Head</code>), added prettier C# names and made some types internal.</li>
<li>And last yet not least... <em>Everything</em> is documented.</li>
</ul>
<h4><a name="2-0-0-beta001-18-08-2017" class="anchor" href="#2-0-0-beta001-18-08-2017">2.0.0-beta001 - 18.08.2017</a></h4>
<ul>
<li>The project is now one NuGet package named Farkle.</li>
<li>The library became faster after performance profiling.</li>
</ul>
<h4><a name="1-0-0-08-08-2017" class="anchor" href="#1-0-0-08-08-2017">1.0.0 - 08.08.2017</a></h4>
<ul>
<li>Initial release.</li>
</ul>
<h4><a name="0-0-1-alpha" class="anchor" href="#0-0-1-alpha">0.0.1-alpha</a></h4>
<ul>
<li>Started the project.</li>
</ul>


        </div>
        <div class="span3">
          <img src="/Farkle/img/logo.png" alt="F# Project" style="width:150px;margin:10px" />
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">Farkle</li>
            <li><a href="/Farkle/index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="https://nuget.org/packages/Farkle">Get Library via NuGet</a></li>
            <li><a href="https://github.com/teo-tsirpanis/Farkle">Source Code on GitHub</a></li>
            <li><a href="/Farkle/license.html">License</a></li>
            <li><a href="/Farkle/release-notes.html">Release Notes</a></li>
            <li><a href="/Farkle/choosing-a-parser.html">Choosing a parser: Farkle vs alternatives</a></li>

            <li class="nav-header">Getting started</li>
            <li><a href="/Farkle/quickstart.html">Quick Start with F#</a></li>
            <li><a href="/Farkle/csharp.html">Using Farkle with C#</a></li>

            <li class="nav-header">Documentation</li>
            <li><a href="/Farkle/reference/index.html">API Reference</a></li>
            <li><a href="/Farkle/templates.html">Templating Reference</a></li>
            <li><a href="/Farkle/string-regexes.html">String regex reference</a></li>
            <li><a href="/Farkle/the-precompiler.html">The precompiler</a></li>
            <li><a href="/Farkle/advanced-features.html">Advanced Features</a></li>
            <li><a href="/Farkle/gold-parser-missing-features.html">Missing Features from GOLD Parser</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="https://github.com/teo-tsirpanis/Farkle" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#fff; color:#151513; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
  </body>
</html>
